#!/usr/bin/env bash
echo "$0"
DIR=$(dirname "$(readlink -f "$0")")
source "$DIR/common"
echo "$DIR"

add_to() {
  DST_FILE="$1"
  LINE_TO_ADD="$2"
  COMMENT_CHAR="$3"
  FULL_LINE="$LINE_TO_ADD $COMMENT_CHAR  Added by holchain"
  if grep --quiet "$FULL_LINE" "$DST_FILE"; then
    echo "Already exists in $(basename $DST_FILE)"
  else
    echo "$FULL_LINE" >> $DST_FILE
    echo "Appended config to $(basename $DST_FILE)"
  fi
}

add_to "$BASHRC" "source $DIR/bashrc" "#"
add_to "$VIMRC" "source $DIR/vimrc" '"'
