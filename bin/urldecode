#!/usr/bin/env bash

urldecode() {
  url_encoded="${1//+/ }"
  printf '%b' "${url_encoded//%/\\x}"
}


if [ $# -eq 0 ]; then
  INP=$(cat /dev/stdin)
  urldecode "$INP"
elif [ $# -eq 1 ]; then
  urldecode "$BASH_ARGV"
else
  echo "$0 either reads from stdin or takes a single argumnet"
  exit 1
fi
